<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no viewport-fit=cover" />
  
    <title>MindCompass Conductor</title>
    <base href="/" />

    <style>
        div {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: white;
        }
    </style>


</head>

<body onload="hello()">
  
  <div>
    <video id="webcamFeed" muted crossorigin="anonymous" width="1280" height="720" playsinline />
  </div>
  <div>
    <video id="shit" autoplay muted src="Whitebaseline.m4v"   loop width="1280" height="720" />
  </div>
  <script> 
      function hello() {
        var shit = document.getElementById("shit");
     
        shit.addEventListener("loadedmetadata", () => {
            if (shit.requestFullscreen) {
                shit.requestFullscreen();
            } else if (shit.mozRequestFullScreen) { /* Firefox */
                shit.mozRequestFullScreen();
            } else if (shit.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                shit.webkitRequestFullscreen();
            } else if (shit.msRequestFullscreen) { /* IE/Edge */
                shit.msRequestFullscreen();
            }
        }, false);

        navigator.mediaDevices.getUserMedia({ video: { width: 1280, height: 720, facingMode: 'user' }, audio: true }).then((stream) => {
            var webcamFeed = document.getElementById("webcamFeed");
            webcamFeed.srcObject = stream;

            webcamFeed.addEventListener('error', () => {
                console.error('webcam feed error');
            });

            webcamFeed.addEventListener('pause', (event) => {
                console.error('webcam feed paused');
            });

            webcamFeed.addEventListener('playing', (event) => {
                console.log('webcam is plaing');
            });

            console.log("Start playing video");
            webcamFeed.play();
        });
    }
</script>
</body>

</html>
